{"ast":null,"code":"import _regeneratorRuntime from \"/Users/kshitijagarwal/Desktop/betterBuy-frontEnd/betterBuy/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/kshitijagarwal/Desktop/betterBuy-frontEnd/betterBuy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nexport default {\n  data: function data() {\n    return {\n      showDetails: localStorage.getItem(\"email\") != null,\n      showEdit: \"\",\n      email: localStorage.getItem(\"email\"),\n      firstName: \"\",\n      lastName: \"\",\n      mobile: \"\",\n      address: \"\",\n      dob: \"\",\n      password: \"\"\n      // profile: {},\n    };\n  },\n\n  methods: {\n    handleSubmit: function handleSubmit() {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.post(\"http://localhost:8083/user/updateProfile\", {\n                emailId: _this.email,\n                firstName: _this.firstName,\n                lastName: _this.lastName,\n                password: _this.password,\n                dob: _this.dob,\n                address: _this.address,\n                mobile: Number(_this.mobile)\n              });\n            case 2:\n              console.log(\" profile saved\");\n              _this.$router.push(\"/\");\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    }\n  },\n  mounted: function mounted() {\n    var _this2 = this;\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n      var profile;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            console.log(\"mounted...\");\n            _context2.next = 3;\n            return axios.get(\"http://localhost:8083/user/userProfile/\" + _this2.email);\n          case 3:\n            profile = _context2.sent;\n            console.log(profile.data);\n            _this2.firstName = profile.data.firstName;\n            _this2.lastName = profile.data.lastName;\n            _this2.dob = profile.data.dob;\n            _this2.address = profile.data.address;\n            _this2.mobile = profile.data.mobile;\n          case 10:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }))();\n  }\n};","map":{"version":3,"mappings":";;;;AAuFA;AAEA;EACAA;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;IACA;EACA;;EACAC;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACAC;gBACAC;gBACAT;gBACAC;gBACAI;gBACAD;gBACAD;gBACAD;cACA;YAAA;cACAQ;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IACA;EACA;EACAC;IAAA;IAAA;MAAA;MAAA;QAAA;UAAA;YACAD;YAAA;YAAA,OACAF,UACA,yDACA;UAAA;YAFAI;YAGAF;YACA;YACA;YACA;YACA;YACA;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EACA;AACA","names":["data","showDetails","showEdit","email","firstName","lastName","mobile","address","dob","password","methods","handleSubmit","axios","emailId","console","mounted","profile"],"sourceRoot":"src/components","sources":["UserView.vue"],"sourcesContent":["<template>\n  <div class=\"wrapper login\">\n    <div v-if=\"showDetails\" class=\"container\">\n      <div class=\"col-left\">\n        <div class=\"login-text\">\n          <h2>Welcome!</h2>\n          <p>Have an account already?<br />View History.</p>\n          <a href=\"/history\" class=\"btn\">History</a>\n        </div>\n      </div>\n      <div class=\"col-right\">\n        <div class=\"login-form\">\n          <h2>Profile</h2>\n          <form @submit.prevent=\"handleSubmit\">\n            <p>\n              <label>First Name<span>*</span></label>\n              <input v-model=\"firstName\" type=\"text\" value=\"hello\" required />\n            </p>\n            <p>\n              <label>Last Name<span>*</span></label>\n              <input\n                type=\"text\"\n                v-model=\"lastName\"\n                placeholder=\"Enter your last name\"\n              />\n            </p>\n            <p>\n              <label>Phone Number<span>*</span></label>\n              <input\n                type=\"text\"\n                v-model=\"mobile\"\n                placeholder=\"Enter your contact number\"\n                required\n              />\n            </p>\n            <p>\n              <label>Date of Birth<span>*</span></label>\n              <input\n                type=\"text\"\n                v-model=\"dob\"\n                placeholder=\"Enter your date of birth\"\n                required\n              />\n            </p>\n            <p>\n              <label>Address<span>*</span></label>\n              <input\n                type=\"text\"\n                v-model=\"address\"\n                placeholder=\"Enter your address\"\n                required\n              />\n            </p>\n            <p>\n              <label>Email address<span>*</span></label>\n              <input\n                type=\"email\"\n                v-model=\"email\"\n                placeholder=\"Enter your email\"\n                required\n                readonly\n              />\n            </p>\n            <p>\n              <label>Password<span>*</span></label>\n              <input\n                type=\"password\"\n                v-model=\"password\"\n                placeholder=\"Password\"\n                required\n                readonly\n              />\n            </p>\n            <p><input type=\"submit\" value=\"Save Details\" /></p>\n            <!-- <p><a href=\"\">Forgot password?</a></p> -->\n          </form>\n        </div>\n      </div>\n    </div>\n    <div v-else>\n      No User please login.....\n      <a href=\"/signIn\">Sign In</a>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nexport default {\n  data() {\n    return {\n      showDetails: localStorage.getItem(\"email\") != null,\n      showEdit: \"\",\n      email: localStorage.getItem(\"email\"),\n      firstName: \"\",\n      lastName: \"\",\n      mobile: \"\",\n      address: \"\",\n      dob: \"\",\n      password: \"\",\n      // profile: {},\n    };\n  },\n  methods: {\n    async handleSubmit() {\n      await axios.post(\"http://localhost:8083/user/updateProfile\", {\n        emailId: this.email,\n        firstName: this.firstName,\n        lastName: this.lastName,\n        password: this.password,\n        dob: this.dob,\n        address: this.address,\n        mobile: Number(this.mobile),\n      });\n      console.log(\" profile saved\");\n      this.$router.push(\"/\");\n    },\n  },\n  async mounted() {\n    console.log(\"mounted...\");\n    let profile = await axios.get(\n      \"http://localhost:8083/user/userProfile/\" + this.email\n    );\n    console.log(profile.data);\n    this.firstName = profile.data.firstName;\n    this.lastName = profile.data.lastName;\n    this.dob = profile.data.dob;\n    this.address = profile.data.address;\n    this.mobile = profile.data.mobile;\n  },\n};\n</script>\n\n<style scoped>\n@import url(\"https://fonts.googleapis.com/css2?family=Poppins&display=swap\");\n* {\n  box-sizing: border-box;\n}\n\n.wrapper {\n  margin: 0 auto;\n  width: 100%;\n  max-width: 1140px;\n  min-height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n}\n\n.container {\n  position: relative;\n  width: 100%;\n  max-width: 600px;\n  height: auto;\n  display: flex;\n  background: #ffffff;\n  box-shadow: 0 0 30px #999999;\n}\n\n.login .col-left,\n.login .col-right {\n  padding: 30px;\n  display: flex;\n}\n\n.login .col-left {\n  width: 60%;\n  clip-path: polygon(0 0, 0% 100%, 100% 0);\n  background: #b29999;\n}\n\n.login .col-right {\n  padding: 60px 30px;\n  width: 50%;\n  margin-left: -10%;\n}\n\n@media (max-width: 575px) {\n  .login .container {\n    flex-direction: column;\n    box-shadow: none;\n  }\n  .login .col-left,\n  .login .col-right {\n    width: 100%;\n    margin: 0;\n    clip-path: none;\n  }\n  .login .col-right {\n    padding: 30px;\n  }\n}\n\n.login .login-text {\n  position: relative;\n  color: #ffffff;\n}\n\n.login .login-text h2 {\n  margin: 0 0 15px 0;\n  font-size: 30px;\n  font-weight: 700;\n}\n\n.login .login-text p {\n  margin: 0 0 20px 0;\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 22px;\n}\n\n.login .login-text .btn {\n  display: inline-block;\n  font-family: poppins;\n  padding: 7px 20px;\n  font-size: 16px;\n  letter-spacing: 1px;\n  text-decoration: none;\n  border-radius: 30px;\n  color: #ffffff;\n  outline: none;\n  border: 1px solid #ffffff;\n  box-shadow: inset 0 0 0 0 #ffffff;\n  transition: 0.3s;\n}\n\n.login .login-text .btn:hover {\n  color: #b29999;\n  box-shadow: inset 150px 0 0 0 #ffffff;\n}\n\n.login .login-form {\n  position: relative;\n  width: 100%;\n}\n\n.login .login-form h2 {\n  margin: 0 0 15px 0;\n  font-size: 22px;\n  font-weight: 700;\n}\n\n.login .login-form p {\n  margin: 0 0 10px 0;\n  text-align: left;\n  color: #666666;\n  font-size: 15px;\n}\n\n.login .login-form p:last-child {\n  margin: 0;\n  padding-top: 3px;\n}\n\n.login .login-form p a {\n  color: #b29999;\n  font-size: 14px;\n  text-decoration: none;\n}\n\n.login .login-form label {\n  display: block;\n  width: 100%;\n  margin-bottom: 2px;\n  letter-spacing: 0.5px;\n}\n\n.login .login-form p:last-child label {\n  width: 60%;\n  float: left;\n}\n\n.login .login-form label span {\n  color: #ff574e;\n  padding-left: 2px;\n}\n\n.login .login-form input {\n  display: block;\n  width: 100%;\n  height: 35px;\n  padding: 0 10px;\n  outline: none;\n  border: 1px solid #cccccc;\n  border-radius: 30px;\n}\n\n.login .login-form input:focus {\n  border-color: #ff574e;\n}\n\n.login .login-form button,\n.login .login-form input[type=\"submit\"] {\n  display: inline-block;\n  width: 100%;\n  margin-top: 5px;\n  color: #b29999;\n  font-size: 16px;\n  letter-spacing: 1px;\n  cursor: pointer;\n  background: transparent;\n  border: 1px solid #b29999;\n  border-radius: 30px;\n  box-shadow: inset 0 0 0 0 #b29999;\n  transition: 0.3s;\n}\n\n.login .login-form button:hover,\n.login .login-form input[type=\"submit\"]:hover {\n  color: #ffffff;\n  box-shadow: inset 250px 0 0 0 #b29999;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}