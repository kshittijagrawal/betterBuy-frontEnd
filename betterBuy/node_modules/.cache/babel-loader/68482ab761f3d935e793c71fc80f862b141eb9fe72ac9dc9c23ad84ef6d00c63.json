{"ast":null,"code":"import _regeneratorRuntime from \"/Users/kshitijagarwal/Desktop/betterBuy-frontEnd/betterBuy/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/kshitijagarwal/Desktop/betterBuy-frontEnd/betterBuy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\nexport default {\n  name: \"productView\",\n  data: function data() {\n    return {\n      isDetails: true,\n      productId: \"\",\n      showProd: true,\n      product: {},\n      merchantId: \"\",\n      merchantName: \"\",\n      userId: localStorage.getItem(\"email\")\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n    return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var prod, merc;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _this.productId = _this.$route.params.productId;\n            _this.merchantId = _this.$route.params.merchantId;\n            console.log(\"index = \", _this.productId);\n            _context.next = 5;\n            return axios.get(\"http://localhost:8082/product/findMerchantProduct/\" + _this.productId + \"/\" + _this.merchantId).then(function (res) {\n              _this.product = res.data;\n              console.log(_this.product);\n            });\n          case 5:\n            prod = _context.sent;\n            console.log(prod);\n            _context.next = 9;\n            return axios.get(\"http://localhost:8081/merchant/getMerchantName/\" + _this.merchantId).then(function (res) {\n              _this.merchantName = res.data;\n              console.log(_this.merchantName);\n            });\n          case 9:\n            merc = _context.sent;\n            console.log(merc);\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }))();\n  },\n  methods: {\n    addToCart: function addToCart() {\n      var _this2 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(localStorage.getItem(\"isLoggedIn\") != null)) {\n                _context2.next = 7;\n                break;\n              }\n              _context2.next = 3;\n              return axios.post(\"http://localhost:8083/user/addToCart/\".concat(_this2.userId), {\n                productId: _this2.productId,\n                merchantId: _this2.merchantId,\n                itemCount: 1\n              });\n            case 3:\n              console.log(\"Added one\");\n              alert(\"Item added to Cart.\");\n              _context2.next = 9;\n              break;\n            case 7:\n              alert(\"User needs to Log In.\");\n              _this2.$router.push(\"/signin\");\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }))();\n    },\n    details: function details() {\n      console.log(\"button clicked...\");\n    }\n  }\n};","map":{"version":3,"mappings":";;;AAwCA;AACA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IAAA;IAAA;MAAA;MAAA;QAAA;UAAA;YACA;YACA;YACAC;YAAA;YAAA,OACAC,MACAC,IACA,uDACA,kBACA,MACA,iBACA,CACAC;cACA;cACAH;YACA;UAAA;YAVAI;YAWAJ;YAAA;YAAA,OAEAC,MACAC,0EACAC;cACA;cACAH;YACA;UAAA;YALAK;YAMAL;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EACA;EACAM;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA,MACAC;gBAAA;gBAAA;cAAA;cAAA;cAAA,OACAP,0DACA,gBACA;gBACAR;gBACAG;gBACAa;cACA,EACA;YAAA;cACAT;cACAU;cAAA;cAAA;YAAA;cAEAA;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IAEA;IACAC;MACAX;IACA;EACA;AACA","names":["name","data","isDetails","productId","showProd","product","merchantId","merchantName","userId","mounted","console","axios","get","then","prod","merc","methods","addToCart","localStorage","itemCount","alert","details"],"sourceRoot":"src/components","sources":["ProductDescription.vue"],"sourcesContent":["<template>\n  <div class=\"productDetails\">\n    <div class=\"nav\">\n      <div class=\"brand-logo\">\n        <img src=\"../assets/logo.png\" alt=\"\" />\n      </div>\n      <div class=\"heading\">\n        <h1>Product Details</h1>\n      </div>\n      <div class=\"nav-items\">\n        <a href=\"/userview\"><img src=\"../assets/user.png\" alt=\"\" /></a>\n        <a href=\"/products/cartview\"><img src=\"../assets/cart.png\" alt=\"\" /></a>\n      </div>\n    </div>\n    <section v-if=\"showProd\" class=\"product-details\">\n      <div class=\"product-image\">\n        <img :src=\"this.product.image\" alt=\"img not available\" />\n      </div>\n      <div class=\"details\">\n        <h2 class=\"product-name\">\n          {{ product.brand }} {{ product.productName }}\n        </h2>\n        <p class=\"product-usp\">\n          {{ product.productUsp }}\n        </p>\n        <p class=\"product-short-des\">\n          {{ product.description }}\n        </p>\n        <span class=\"product-price\">â‚¹{{ product.price }}</span>\n\n        <p class=\"product-sub-heading\">sold by : {{ merchantName }}</p>\n\n        <button @click=\"addToCart\" class=\"btn cart-btn\">add to cart</button>\n        <button @click=\"$router.go(-1)\" class=\"btn\">back</button>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  name: \"productView\",\n  data() {\n    return {\n      isDetails: true,\n      productId: \"\",\n      showProd: true,\n      product: {},\n      merchantId: \"\",\n      merchantName: \"\",\n      userId: localStorage.getItem(\"email\"),\n    };\n  },\n  async mounted() {\n    this.productId = this.$route.params.productId;\n    this.merchantId = this.$route.params.merchantId;\n    console.log(\"index = \", this.productId);\n    let prod = await axios\n      .get(\n        \"http://localhost:8082/product/findMerchantProduct/\" +\n          this.productId +\n          \"/\" +\n          this.merchantId\n      )\n      .then((res) => {\n        this.product = res.data;\n        console.log(this.product);\n      });\n    console.log(prod);\n\n    let merc = await axios\n      .get(\"http://localhost:8081/merchant/getMerchantName/\" + this.merchantId)\n      .then((res) => {\n        this.merchantName = res.data;\n        console.log(this.merchantName);\n      });\n    console.log(merc);\n  },\n  methods: {\n    async addToCart() {\n      if (localStorage.getItem(\"isLoggedIn\") != null) {\n        await axios.post(\n          `http://localhost:8083/user/addToCart/${this.userId}`,\n          {\n            productId: this.productId,\n            merchantId: this.merchantId,\n            itemCount: 1,\n          }\n        );\n        console.log(\"Added one\");\n        alert(\"Item added to Cart.\");\n      } else {\n        alert(\"User needs to Log In.\");\n        this.$router.push(\"/signin\");\n      }\n    },\n    details() {\n      console.log(\"button clicked...\");\n    },\n  },\n};\n</script>\n<style scoped>\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  font-family: \"roboto\", sans-serif;\n}\n\n.nav {\n  padding: 0.8%;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: sticky;\n  top: 0;\n  left: 0;\n  width: 100%;\n  background: #f5f5f5;\n  z-index: 9;\n  border-bottom: 1px solid #d1d1d1;\n}\n\n.brand-logo img {\n  height: 60px;\n  transition: 1s;\n}\n\n.brand-logo :hover {\n  transform: rotate(180deg);\n}\n\n.nav-items {\n  display: flex;\n  align-items: center;\n}\n.nav-items a {\n  margin-left: 20px;\n  display: flex;\n  align-items: center;\n}\n\n.nav-items a img {\n  width: 30px;\n}\n\n.nav-items a:hover {\n  top: -10px;\n}\n\nh1 {\n  text-align: center;\n}\n\n.product-details {\n  width: 100%;\n  padding: 60px 10vw;\n  display: flex;\n  justify-content: space-between;\n  padding-top: 5%;\n}\n\n.product-image img {\n  height: 500px;\n  position: relative;\n  width: 500px;\n  bottom: 0;\n  border-radius: 25px;\n}\n.product-image {\n  justify-content: center;\n  text-align: center;\n  padding: 1px 1px;\n  position: relative;\n  border-radius: 20px;\n}\n\n.details {\n  width: 50%;\n  text-transform: capitalize;\n  padding-top: 5%;\n}\n\n.details .product-brand {\n  text-transform: capitalize;\n  font-size: 30px;\n}\n\n.details .product-usp {\n  font-size: 17px;\n  line-height: 10px;\n  height: auto;\n  margin: 15px 0 30px;\n  opacity: 0.5;\n}\n\n.details .product-short-des {\n  font-size: 25px;\n  line-height: 25px;\n  height: auto;\n  margin: 15px 0 30px;\n}\n\n.product-price {\n  font-weight: 700;\n  font-size: 30px;\n}\n\n.product-sub-heading {\n  font-size: 25px;\n  text-transform: uppercase;\n  margin: 60px 0 10px;\n  font-weight: 300;\n}\n\n.btn {\n  width: 48%;\n  padding: 20px;\n  border-radius: 5px;\n  background: none;\n  border: 1px solid #383838;\n  color: #383838;\n  font-size: 20px;\n  cursor: pointer;\n  margin: 20px 0;\n  text-transform: capitalize;\n}\n\n.cart-btn {\n  margin-right: 2%;\n  background: #383838;\n  color: #fff;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}