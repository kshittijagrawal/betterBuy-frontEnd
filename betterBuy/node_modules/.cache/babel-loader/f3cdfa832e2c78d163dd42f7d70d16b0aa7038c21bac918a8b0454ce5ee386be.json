{"ast":null,"code":"import _regeneratorRuntime from \"/Users/kshitijagarwal/Desktop/betterBuy-frontEnd/betterBuy/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/kshitijagarwal/Desktop/betterBuy-frontEnd/betterBuy/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport axios from \"axios\";\n// import mobileCategory from \"../views/mobileCategoryProducts.vue\";\n// import firebase from \"firebase\";\nimport \"firebase/compat/auth\";\nimport \"firebase/compat/firestore\";\nimport firebase from \"firebase/compat/app\";\nimport ToastMsg from \"./ToastMsg.vue\";\nexport default {\n  data: function data() {\n    return {\n      isToast: false,\n      email: \"\",\n      password: \"\",\n      msg: \"\"\n    };\n  },\n  components: {\n    ToastMsg: ToastMsg\n    // mobileCategory,\n  },\n\n  methods: {\n    login: function login() {\n      firebase.auth().signInWithEmailAndPassword(this.email, this.password).then(function (user) {\n        console.log(user.data);\n      }, function (err) {\n        alert(err);\n      });\n    },\n    handleSubmit: function handleSubmit() {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var valid;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.post(\"http://localhost:8083/user/login\", {\n                emailId: _this.email,\n                password: _this.password\n              });\n            case 2:\n              valid = _context.sent;\n              // console.log(valid);\n              if (valid.data.isValid) {\n                localStorage.setItem(\"email\", _this.email);\n                localStorage.setItem(\"isLoggedIn\", true);\n                _this.msg = \"Logged In\";\n                _this.isToast = true;\n                _this.$router.push(\"/products\");\n              } else {\n                _this.msg = \"Wrong credentials try again\";\n                _this.isToast = true;\n                // alert(\"Wrong Credentials. Try again.\");\n              }\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":";;;AA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACAA;IACA;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;IACA;EACA;;EACAC;IACAC;MACAC,SACAC,OACAC,sDACAC,KACA;QACAC;MACA,GACA;QACAC;MACA,EACA;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACAC;gBACAC;gBACAd;cACA;YAAA;cAHAe;cAIA;cACA;gBACAC;gBACAA;gBACA;gBACA;gBACA;cACA;gBACA;gBACA;gBACA;cACA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA;IACA;EACA;AACA","names":["data","isToast","email","password","msg","components","ToastMsg","methods","login","firebase","auth","signInWithEmailAndPassword","then","console","alert","handleSubmit","axios","emailId","valid","localStorage"],"sourceRoot":"src/components","sources":["SignIn.vue"],"sourcesContent":["<template>\n  <div class=\"wrapper login\">\n    <div class=\"container\">\n      <div class=\"col-left\">\n        <div class=\"login-text\">\n          <h2>Welcome!</h2>\n          <p>Don't have an account?<br />Create one.</p>\n          <a href=\"/signup\" class=\"btn\">Sign Up</a>\n        </div>\n      </div>\n      <div class=\"col-right\">\n        <div class=\"login-form\">\n          <h2>Sign In</h2>\n          <form @submit.prevent=\"handleSubmit\">\n            <p>\n              <label>Email address<span>*</span></label>\n              <input\n                v-model=\"email\"\n                type=\"text\"\n                placeholder=\"Username or Email\"\n                required\n              />\n            </p>\n            <p>\n              <label>Password<span>*</span></label>\n              <input\n                v-model=\"password\"\n                type=\"password\"\n                placeholder=\"Password\"\n                required\n              />\n            </p>\n            <p><input type=\"submit\" value=\"Sign In\" /></p>\n            <p><a href=\"\">Forgot password?</a></p>\n          </form>\n        </div>\n      </div>\n      <toast-msg :message=\"`${this.msg}`\" v-if=\"isToast\"></toast-msg>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n// import mobileCategory from \"../views/mobileCategoryProducts.vue\";\n// import firebase from \"firebase\";\nimport \"firebase/compat/auth\";\nimport \"firebase/compat/firestore\";\nimport firebase from \"firebase/compat/app\";\nimport ToastMsg from \"./ToastMsg.vue\";\nexport default {\n  data() {\n    return {\n      isToast: false,\n      email: \"\",\n      password: \"\",\n      msg: \"\",\n    };\n  },\n  components: {\n    ToastMsg,\n    // mobileCategory,\n  },\n  methods: {\n    login: function () {\n      firebase\n        .auth()\n        .signInWithEmailAndPassword(this.email, this.password)\n        .then(\n          (user) => {\n            console.log(user.data);\n          },\n          (err) => {\n            alert(err);\n          }\n        );\n    },\n    async handleSubmit() {\n      let valid = await axios.post(\"http://localhost:8083/user/login\", {\n        emailId: this.email,\n        password: this.password,\n      });\n      // console.log(valid);\n      if (valid.data.isValid) {\n        localStorage.setItem(\"email\", this.email);\n        localStorage.setItem(\"isLoggedIn\", true);\n        this.msg = \"Logged In\";\n        this.isToast = true;\n        this.$router.push(\"/products\");\n      } else {\n        this.msg = \"Wrong credentials try again\";\n        this.isToast = true;\n        // alert(\"Wrong Credentials. Try again.\");\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n@import url(\"https://fonts.googleapis.com/css2?family=Poppins&display=swap\");\n* {\n  box-sizing: border-box;\n}\n\n.wrapper {\n  margin: 0 auto;\n  width: 100%;\n  max-width: 1140px;\n  min-height: 100vh;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n}\n\n.container {\n  position: relative;\n  width: 100%;\n  max-width: 600px;\n  height: auto;\n  display: flex;\n  background: #ffffff;\n  box-shadow: 0 0 30px #999999;\n}\n\n.login .col-left,\n.login .col-right {\n  padding: 30px;\n  display: flex;\n}\n\n.login .col-left {\n  width: 60%;\n  clip-path: polygon(0 0, 0% 100%, 100% 0);\n  background: #b29999;\n}\n\n.login .col-right {\n  padding: 60px 30px;\n  width: 50%;\n  margin-left: -10%;\n}\n\n@media (max-width: 575px) {\n  .login .container {\n    flex-direction: column;\n    box-shadow: none;\n  }\n  .login .col-left,\n  .login .col-right {\n    width: 100%;\n    margin: 0;\n    clip-path: none;\n  }\n  .login .col-right {\n    padding: 30px;\n  }\n}\n\n.login .login-text {\n  position: relative;\n  color: #ffffff;\n}\n\n.login .login-text h2 {\n  margin: 0 0 15px 0;\n  font-size: 30px;\n  font-weight: 700;\n}\n\n.login .login-text p {\n  margin: 0 0 20px 0;\n  font-size: 16px;\n  font-weight: 500;\n  line-height: 22px;\n}\n\n.login .login-text .btn {\n  display: inline-block;\n  font-family: poppins;\n  padding: 7px 20px;\n  font-size: 16px;\n  letter-spacing: 1px;\n  text-decoration: none;\n  border-radius: 30px;\n  color: #ffffff;\n  outline: none;\n  border: 1px solid #ffffff;\n  box-shadow: inset 0 0 0 0 #ffffff;\n  transition: 0.3s;\n}\n\n.login .login-text .btn:hover {\n  color: #b29999;\n  box-shadow: inset 150px 0 0 0 #ffffff;\n}\n\n.login .login-form {\n  position: relative;\n  width: 100%;\n}\n\n.login .login-form h2 {\n  margin: 0 0 15px 0;\n  font-size: 22px;\n  font-weight: 700;\n}\n\n.login .login-form p {\n  margin: 0 0 10px 0;\n  text-align: left;\n  color: #666666;\n  font-size: 15px;\n}\n\n.login .login-form p:last-child {\n  margin: 0;\n  padding-top: 3px;\n}\n\n.login .login-form p a {\n  color: #b29999;\n  font-size: 14px;\n  text-decoration: none;\n}\n\n.login .login-form label {\n  display: block;\n  width: 100%;\n  margin-bottom: 2px;\n  letter-spacing: 0.5px;\n}\n\n.login .login-form p:last-child label {\n  width: 60%;\n  float: left;\n}\n\n.login .login-form label span {\n  color: #ff574e;\n  padding-left: 2px;\n}\n\n.login .login-form input {\n  display: block;\n  width: 100%;\n  height: 35px;\n  padding: 0 10px;\n  outline: none;\n  border: 1px solid #cccccc;\n  border-radius: 30px;\n}\n\n.login .login-form input:focus {\n  border-color: #ff574e;\n}\n\n.login .login-form button,\n.login .login-form input[type=\"submit\"] {\n  display: inline-block;\n  width: 100%;\n  margin-top: 5px;\n  color: #b29999;\n  font-size: 16px;\n  letter-spacing: 1px;\n  cursor: pointer;\n  background: transparent;\n  border: 1px solid #b29999;\n  border-radius: 30px;\n  box-shadow: inset 0 0 0 0 #b29999;\n  transition: 0.3s;\n}\n\n.login .login-form button:hover,\n.login .login-form input[type=\"submit\"]:hover {\n  color: #ffffff;\n  box-shadow: inset 250px 0 0 0 #b29999;\n}\n</style>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}